(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea1425f0"],{"1b5a":function(t,e,a){"use strict";a("f101")},"38be":function(t,e,a){},"4b3c":function(t,e,a){"use strict";a("eb9a")},6794:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));const s=t=>{if(null!==t){var e=new Date(t),a=e.getFullYear(),s=e.getMonth()+1;s=s<10?"0"+s:s;t=e.getDate();t=t<10?"0"+t:t;var o=a+"-"+s+"-"+t,i=e.getHours();i=i<10?"0"+i:i;var n=e.getMinutes();n=n<10?"0"+n:n;var r=e.getSeconds();r=r<10?"0"+r:r;var c=i+":"+n+":"+r;return o+" "+c}}},7574:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,"page-sizes":t.pageSizes,layout:t.layout,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},o=[],i={props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1},pageSizes:{type:Array,default:[10,20,50,100]}},computed:{currentPage:{get(){return this.page},set(t){this.$emit("update:page",t)}},pageSize:{get(){return this.limit},set(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange(t){this.$emit("pagination",{pageIndex:1,pageSize:t})},handleCurrentChange(t){this.$emit("pagination",{pageIndex:t,pageSize:this.pageSize})}}},n=i,r=(a("4b3c"),a("f739"),a("2877")),c=Object(r["a"])(n,s,o,!1,null,"381a7afa",null);e["a"]=c.exports},d2ab:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"demand_list"},[e("div",{staticClass:"search"},[e("el-input",{attrs:{placeholder:"Search By Title"},model:{value:t.search.title,callback:function(e){t.$set(t.search,"title",e)},expression:"search.title"}}),e("el-select",{attrs:{placeholder:"Search By Status"},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},t._l(t.search.optionsStatus,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-cascader",{attrs:{options:t.search.optionsCategory,placeholder:"Search By Category"},model:{value:t.search.category,callback:function(e){t.$set(t.search,"category",e)},expression:"search.category"}}),e("el-button",{attrs:{type:"info"},on:{click:t.handleSearch}},[t._v("Search")]),e("el-button",{attrs:{type:"success"},on:{click:t.handleReset}},[t._v("Reset")])],1),t.demandList.length>0?e("div",[t._l(t.demandList,(function(s,o){return e("div",{key:o,staticClass:"all_demand_content"},[e("div",{staticClass:"all_demand_content_l"},[e("p",{staticStyle:{"font-size":"26px"}},[t._v(t._s(s.title))]),e("div",{staticClass:"all_demand_content_l_tag"},["open"==s.status?e("div",{staticClass:"all_demand_content_l_tag-s1"},[t._v(" Open ")]):"completed"==s.status?e("div",{staticClass:"all_demand_content_l_tag-s2"},[t._v(" Completed ")]):"ongoing"==s.status?e("div",{staticClass:"all_demand_content_l_tag-s4"},[t._v(" Ongoing ")]):t._e(),e("div",{staticClass:"all_demand_content_l_tag-s3"},[t._v(t._s(s.category))])]),e("p",{staticClass:"all_demand_content_l_desc"},[e("i",{staticClass:"iconfont icon-describe"}),t._v(" Description："+t._s(s.description)+" ")]),e("div",[e("a",{attrs:{href:"https://twitter.com/"+s.twitter,target:"_blank"}},[e("i",{staticClass:"iconfont icon-birdxiaoniao bird_icon"})]),e("a",{attrs:{href:"https://t.me/"+s.telegram,target:"_blank"}},[e("i",{staticClass:"iconfont icon-telegram-plane bird_icon"})])])]),e("div",{staticClass:"all_demand_content_r"},[e("div",[e("p",{staticStyle:{"font-size":"20px"}},[t._v("$"+t._s(s.budget||0))]),e("p",{staticStyle:{"font-size":"14px","font-weight":"400"}},[t._v(" Token Deposit："+t._s(s.tokenAmount||0)+" ")]),e("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"info",disabled:"completed"==s.status},on:{click:function(e){return t.handleEnd(s)}}},[t._v("End")]),e("el-button",{attrs:{type:"info"},on:{click:function(e){return t.handleProtocols(s)}}},[t._v("Protocols")])],1)]),e("div",[e("p",{staticStyle:{"font-size":"14px"}},[t._v("Contract："+t._s(s.contract))]),e("p",{staticStyle:{"font-size":"14px"}},[t._v("Creator："+t._s(s.creator))])])]),e("el-dialog",{attrs:{visible:t.dialogVisibleEnd,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleEnd=e}}},[e("div",{staticClass:"dialog_skills_title",attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"iconfont icon-tuichudenglu"}),e("span",[t._v("End Demand")])]),e("p",[t._v(" Are you sure you want to end the operation and return the deposit ")]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"success"},on:{click:function(e){t.dialogVisibleEnd=!1}}},[t._v("Cancel")]),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info"},on:{click:t.handleEndSubmit}},[t._v("OK")])],1)]),e("el-dialog",{attrs:{visible:t.dialogVisibleProtocols,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleProtocols=e}}},[e("div",{staticClass:"dialog_skills_title",attrs:{slot:"title"},slot:"title"},[e("span",[t._v("Protocols")])]),e("div",[0==t.ProtocolsListDialog.length?e("div",{staticClass:"nodata"},[e("img",{attrs:{src:a("14a4"),alt:""}}),e("p",[t._v("No Datas")])]):e("div",[t._l(t.ProtocolsListDialog,(function(a){return e("div",{key:a.id},[e("div",{staticClass:"demand_protocols_list"},[e("div",[t._v("Demand ID："+t._s(a.id))]),e("div",[t._v("contract："+t._s(a.contract))]),e("div",[t._v("candidate："+t._s(a.candidate))]),e("div",{staticClass:"demand_protocols_list_status"},[e("i",{staticClass:"el-icon-info",staticStyle:{color:"#8b8b8b"}}),e("span",{staticStyle:{"font-weight":"400","margin-left":"0"}},[t._v(t._s(a.status))])]),e("div",[t._v("activeDate："+t._s(a.activeDate))]),e("div",{staticClass:"demand_protocols_btn"},["invite pending"==a.status?e("div",[e("el-button",{attrs:{type:"info"},on:{click:function(e){return t.handleClick(a,"Cancel")}}},[t._v("Cancel")]),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.handleClick(a,"Protocol")}}},[t._v("Protocol Message")])],1):"proposal pending"==a.status?e("div",[e("el-button",{attrs:{type:"info"},on:{click:function(e){return t.handleClick(a,"Accept")}}},[t._v("Accept")]),e("el-button",{attrs:{type:"info"},on:{click:function(e){return t.handleClick(a,"Refuse")}}},[t._v("Refuse")]),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.handleClick(a,"Protocol")}}},[t._v("Protocol Message")])],1):e("div",[e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.handleClick(a,"Protocol")}}},[t._v("Protocol Message")])],1)])])])})),e("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.pageLengthPro>=0,expression:"pageLengthPro >= 0"}],attrs:{limit:t.pageSizePro,total:t.pageLengthPro,"page-sizes":t.pageSizesPro},on:{"update:limit":function(e){t.pageSizePro=e},pagination:t.handlePageChangeProtocols}})],2)])])],1)})),e("Pagination",{directives:[{name:"show",rawName:"v-show",value:t.pageLength>=0,expression:"pageLength >= 0"}],attrs:{limit:t.pageSize,total:t.pageLength,"page-sizes":t.pageSizes},on:{"update:limit":function(e){t.pageSize=e},pagination:t.handlePageChange}})],2):e("div",{staticClass:"nodata"},[e("img",{attrs:{src:a("14a4"),alt:""}}),e("p",[t._v("No Datas")])])])},o=[],i=a("0f2e"),n=a("0c6d"),r=a("5d1d"),c=a("a889"),l=a("6794"),d=a("7574"),u=a("e43c"),g={components:{Pagination:d["a"]},inject:["reload"],data(){return{demandList:[],search:{optionsStatus:[{value:"Open",label:"Open"},{value:"Completed",label:"Completed"},{value:"Ongoing",label:"Ongoing"}],title:"",status:"",category:"",optionsCategory:[]},dialogVisibleEnd:!1,dialogVisibleProtocols:!1,ProtocolsListDialog:[],endContract:"",currentPage:1,pageLength:0,pageSize:10,pageSizes:[10,20,50,100,200],currentPagePro:1,pageLengthPro:0,pageSizePro:10,pageSizesPro:[10,20,50,100,200]}},mounted(){this.search.optionsCategory=c["a"],Object(u["b"])();const t={url:i["a"].employerDemandList,resFunc:t=>{console.log(t.data),0==t.data.errno&&(this.demandList=t.data.data.list,this.pageLength=t.data.data.total),0!=t.data.errno&&(this.$notify.error({title:"错误",message:t.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:t=>{this.$notify.error({title:"错误",message:t}),console.log(t,"err1"),Object(u["a"])()}};Object(n["b"])(t)},methods:{handleSearch(){Object(u["b"])();const t={url:i["a"].employerDemandList,params:{title:this.search.title,status:this.search.status,contract:this.search.category[this.search.category.length-1]},resFunc:t=>{console.log(t.data),0==t.data.errno&&(this.demandList=t.data.data.list,this.pageLength=t.data.data.total),0!=t.data.errno&&(this.$notify.error({title:"错误",message:t.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:t=>{this.$notify.error({title:"错误",message:t}),console.log(t,"err1"),Object(u["a"])()}};Object(n["b"])(t)},handleReset(){this.refresh()},handleEnd(t){this.dialogVisibleEnd=!0,this.endContract=t.contract},handleEndSubmit(){Object(u["b"])();const t={url:i["a"].endDemandCheck,params:{contract:this.endContract},resFunc:async t=>{if(0==t.data.errno)try{const t=await Object(r["d"])(this.endContract);await Object(r["e"])(this.endContract,t.tokenAmount),window.location.reload()}catch(e){}0!=t.data.errno&&(this.$notify.error({title:"error",message:t.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:t=>{this.$notify.error({title:"error",message:t}),console.log(t,"err1"),Object(u["a"])()}};Object(n["b"])(t)},handleProtocols(t){this.dialogVisibleProtocols=!0,Object(u["b"])();const e={url:i["a"].listByDemandProtocol,params:{contract:t.contract},resFunc:t=>{0==t.data.errno&&(this.ProtocolsListDialog=t.data.data.list,this.pageLengthPro=t.data.data.total,t.data.data.list.map(t=>{null!=t.activeDate&&(t.activeDate=Object(l["a"])(t.activeDate))})),0!=t.data.errno&&(this.$notify.error({title:"error",message:t.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:t=>{this.$notify.error({title:"error",message:t}),console.log(t,"err1"),Object(u["a"])()}};Object(n["b"])(e)},handlePageChange(t){Object(u["b"])();const e={url:i["a"].employerDemandList,params:{title:this.title,status:this.status,contract:this.type,page:t.pageIndex,pageSize:t.pageSize},resFunc:e=>{console.log(e.data),0==e.data.errno&&(this.demandList=e.data.data.list,this.pageLength=e.data.data.total,this.pageSize=t.pageSize,this.currentPage=t.pageIndex),0!=e.data.errno&&(this.$notify.error({title:"错误",message:e.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:t=>{this.$notify.error({title:"错误",message:t}),console.log(t,"err1"),Object(u["a"])()}};Object(n["b"])(e)},handlePageChangeProtocols(t){Object(u["b"])();const e={url:i["a"].listByDemandProtocol,params:{contract:item.contract,page:t.pageIndex,pageSize:t.pageSize},resFunc:e=>{0==e.data.errno&&(this.ProtocolsListDialog=e.data.data.list,this.pageLengthPro=e.data.data.total,this.pageSizePro=t.pageSize,this.currentPagePro=t.pageIndex,e.data.data.list.map(t=>{null!=t.activeDate&&(t.activeDate=Object(l["a"])(t.activeDate))})),0!=e.data.errno&&(this.$notify.error({title:"error",message:e.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:t=>{this.$notify.error({title:"error",message:t}),console.log(t,"err1"),Object(u["a"])()}};Object(n["b"])(e)},handleClick(t,e){"Cancel"==e?this.$confirm("Are you sure you want to cancel the invitation?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(()=>{Object(u["b"])();const e={url:i["a"].cancelInvitationProtocol,method:"POST",params:{protocolId:t.id},resFunc:t=>{0==t.data.errno&&(this.$message({type:"success",message:"cancel invitation success"}),this.refresh()),0!=t.data.errno&&(this.$notify.error({title:"error",message:"cancel invitation failed--------"+t.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:t=>{this.$notify.error({title:"error",message:t}),Object(u["a"])()}};Object(n["a"])(e)}).catch(()=>{this.$message({type:"info",message:"Cancelled operation"})}):"Accept"==e?this.$confirm("Are you sure you want to accept the invitation?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(()=>{Object(u["b"])();const e={url:i["a"].acceptProtocol,method:"POST",params:{protocolId:t.id},resFunc:async e=>{0==e.data.errno&&(this.$message({type:"success",message:"accept proposal success"}),e.data.data.url&&(await Object(r["a"])(t.id,e.data.data.url),this.refresh())),0!=e.data.errno&&(this.$notify.error({title:"error",message:"accept proposal failed--------"+e.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:t=>{this.$notify.error({title:"error",message:t}),Object(u["a"])()}};Object(n["a"])(e)}).catch(()=>{this.$message({type:"info",message:"Cancelled operation"})}):"Refuse"==e?this.$confirm("Are you sure you want to refuse the invitation?","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(()=>{Object(u["b"])();const e={url:i["a"].refuseProtocol,method:"POST",params:{protocolId:t.id},resFunc:t=>{0==t.data.errno&&(this.$message({type:"success",message:"refuse proposal success"}),this.refresh()),0!=t.data.errno&&(this.$notify.error({title:"error",message:"refuse proposal failed--------"+t.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:t=>{this.$notify.error({title:"error",message:t}),Object(u["a"])()}};Object(n["a"])(e)}).catch(()=>{this.$message({type:"info",message:"Cancelled operation"})}):"Protocol"==e&&this.$router.push({path:"/PersonalCenter/DemandList/ProtocolMessage",query:{id:t.id,type:"Demand"}})},refresh(){this.reload()}}},p=g,h=(a("1b5a"),a("2877")),m=Object(h["a"])(p,s,o,!1,null,"d3ea0bc2",null);e["default"]=m.exports},eb9a:function(t,e,a){},f101:function(t,e,a){},f739:function(t,e,a){"use strict";a("38be")}}]);
//# sourceMappingURL=chunk-ea1425f0.1bdcf7bd.js.map