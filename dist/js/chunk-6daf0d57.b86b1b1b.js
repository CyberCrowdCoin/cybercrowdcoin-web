(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6daf0d57"],{"3bf5":function(e,t,r){},4192:function(e,t,r){"use strict";r("3bf5")},"4f80":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"demand_new_list"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[t("el-form-item",{attrs:{prop:"title"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-a-titleoptimization"}),e._v(" Title")]),t("el-input",{attrs:{placeholder:"Please enter Title"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),t("el-form-item",{attrs:{prop:"category"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-leibie"}),e._v(" Category")]),t("el-cascader",{attrs:{options:e.ruleForm.optionsCategory,placeholder:"Select a category"},model:{value:e.ruleForm.category,callback:function(t){e.$set(e.ruleForm,"category",t)},expression:"ruleForm.category"}})],1),t("el-form-item",{attrs:{prop:"twitter"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-birdxiaoniao bird_icon"}),e._v(" Twitter")]),t("div",{staticClass:"demand_new_input_twitter"},[e._v(" https://twitter.com/ "),t("el-input",{attrs:{placeholder:"Please enter Twitter"},model:{value:e.ruleForm.twitter,callback:function(t){e.$set(e.ruleForm,"twitter",t)},expression:"ruleForm.twitter"}})],1)]),t("el-form-item",{attrs:{prop:"telegram"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-telegram-plane bird_icon"}),e._v(" Telegram")]),t("div",{staticClass:"demand_new_input_twitter"},[e._v(" https://t.me/ "),t("el-input",{attrs:{placeholder:"Please enter Telegram"},model:{value:e.ruleForm.telegram,callback:function(t){e.$set(e.ruleForm,"telegram",t)},expression:"ruleForm.telegram"}})],1)]),t("el-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-cunkuan"}),e._v(" Token Deposit")]),t("el-input-number",{attrs:{min:0},model:{value:e.ruleForm.tokenAmount,callback:function(t){e.$set(e.ruleForm,"tokenAmount",t)},expression:"ruleForm.tokenAmount"}})],1),t("el-form-item",{attrs:{prop:"budget"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-jiagebaohu"}),e._v(" Demand Budget")]),t("el-input-number",{attrs:{min:0},model:{value:e.ruleForm.budget,callback:function(t){e.$set(e.ruleForm,"budget",t)},expression:"ruleForm.budget"}})],1),t("el-form-item",{attrs:{prop:"description"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("i",{staticClass:"iconfont icon-describe"}),e._v(" Description")]),t("el-input",{attrs:{type:"textarea",placeholder:"Please enter Description"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),t("div",{staticClass:"ruleForm_footer"},[t("el-form-item",[t("el-button",{attrs:{type:"info"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Submit")]),t("el-button",{attrs:{type:"success"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("Empty")])],1)],1)],1)],1)},l=[],s=r("a889"),i=r("5d1d"),a=r("0f2e"),n=r("0c6d"),u=r("e43c"),c={data(){return{ruleForm:{title:"",category:"",optionsCategory:[],twitter:"",telegram:"",tokenAmount:10,budget:0,description:""},rules:{title:[{required:!0,message:"Please enter Title",trigger:"blur"}],category:[{required:!0,message:"Select a category",trigger:"blur"}],twitter:[{required:!0,message:"Please enter twitter",trigger:"blur"}],telegram:[{required:!0,message:"Please enter telegram",trigger:"blur"}],budget:[{required:!0,message:"Please enter the demand budget",trigger:"blur"}],description:[{required:!0,message:"Please enter Description",trigger:"blur"}]}}},mounted(){this.ruleForm.optionsCategory=s["a"]},methods:{submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;this.$confirm("Please confirm that the information is correct, and then continue","Tips",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(()=>{Object(u["b"])();const e={url:a["a"].addipfsDemand,method:"POST",params:{title:this.ruleForm.title,category:this.ruleForm.category[this.ruleForm.category.length-1],description:this.ruleForm.description,twitter:this.ruleForm.twitter,telegram:this.ruleForm.telegram,budget:this.ruleForm.budget,tokenAmount:this.ruleForm.tokenAmount},resFunc:async e=>{if(0==e.data.errno)try{const r=e.data.data.url||"";if(r){await Object(i["b"])(this.ruleForm.tokenAmount);let e={title:this.ruleForm.title,category:this.ruleForm.category[this.ruleForm.category.length-1],description:this.ruleForm.description,twitter:this.ruleForm.twitter,telegram:this.ruleForm.telegram,budget:this.ruleForm.budget,tokenAmount:this.ruleForm.tokenAmount};const o={...e,ipfsUrl:r};var t=await Object(i["c"])(o);this.$message.success("Created successfully and goes to Demand List Page!"),this.$router.push("/PersonalCenter/DemandList"),console.log(t)}}catch(r){}0!=e.data.errno&&(this.$notify.error({title:"error",message:e.data.message}),Object(u["a"])()),Object(u["a"])()},errFunc:e=>{this.$notify.error({title:"error",message:e}),console.log(e,"err1"),Object(u["a"])()}};Object(n["a"])(e)}).catch(()=>{this.$message({type:"info",message:"Cancelled operation"})})})},resetForm(e){this.$refs[e].resetFields()}}},m=c,d=(r("593d"),r("4192"),r("2877")),p=Object(d["a"])(m,o,l,!1,null,"3cde70d1",null);t["default"]=p.exports},"593d":function(e,t,r){"use strict";r("80e1")},"80e1":function(e,t,r){}}]);
//# sourceMappingURL=chunk-6daf0d57.b86b1b1b.js.map