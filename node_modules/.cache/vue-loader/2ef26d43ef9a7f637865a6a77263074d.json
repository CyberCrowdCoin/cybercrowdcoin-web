{"remainingRequest":"/Users/admin/projects/cybercrowdcoin/cybercrowdcoin-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/projects/cybercrowdcoin/cybercrowdcoin-web/src/views/PersonalCenter/ProtocolMessage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/projects/cybercrowdcoin/cybercrowdcoin-web/src/views/PersonalCenter/ProtocolMessage.vue","mtime":1699862577000},{"path":"/Users/admin/projects/cybercrowdcoin/cybercrowdcoin-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/projects/cybercrowdcoin/cybercrowdcoin-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlcVVybCB9IGZyb20gIkAvYXBpL2FwaVVybCI7CmltcG9ydCB7IHJlcXVlc3RHZXQgfSBmcm9tICJAL2FwaS9yZXF1ZXN0IjsKaW1wb3J0IHsgc2hvd0xvYWRpbmcsIGhpZGVMb2FkaW5nIH0gZnJvbSAiQC91dGlsL2xvYWRpbmciOwoKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAiQC9jb21wb25lbnQvUGFnaW5hdGlvbiI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbiwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvdG9jb2xNc2dMaXN0OiBbXSwKCiAgICAgIC8vIOWIhumhteaVsOaNrgogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZUxlbmd0aDogMCwKICAgICAgcGFnZVNpemU6IDEwLCAvL+imgeS8oOi/h+WOu+eahOaVsOaNriDmr4/pobXlpJrlsJHmnaHmlbDmja4KICAgICAgcGFnZVNpemVzOiBbMTAsIDIwLCA1MCwgMTAwLCAyMDBdLAogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgc2hvd0xvYWRpbmcoKTsKICAgIGNvbnN0IG9wdCA9IHsKICAgICAgdXJsOiByZXFVcmwubGlzdEJ5UHJvdG9jb2xNZXNzYWdlLAogICAgICBwYXJhbXM6IHsKICAgICAgICBwcm90b2NvbElkOiB0aGlzLiRyb3V0ZS5xdWVyeS5pZCwKICAgICAgfSwKICAgICAgcmVzRnVuYzogKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICBpZiAocmVzLmRhdGEuZXJybm8gPT0gMCkgewogICAgICAgICAgdGhpcy5wcm90b2NvbE1zZ0xpc3QgPSByZXMuZGF0YS5kYXRhLmxpc3Q7CiAgICAgICAgICB0aGlzLnBhZ2VMZW5ndGggPSByZXMuZGF0YS5kYXRhLnRvdGFsOwogICAgICAgIH0KICAgICAgICBpZiAocmVzLmRhdGEuZXJybm8gIT0gMCkgewogICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICLplJnor68iLAogICAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tZXNzYWdlLAogICAgICAgICAgfSk7CiAgICAgICAgICBoaWRlTG9hZGluZygpOwogICAgICAgIH0KICAgICAgICBoaWRlTG9hZGluZygpOwogICAgICB9LAogICAgICBlcnJGdW5jOiAoZXJyKSA9PiB7CiAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgIHRpdGxlOiAi6ZSZ6K+vIiwKICAgICAgICAgIG1lc3NhZ2U6IGVyciwKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZyhlcnIsICJlcnIxIik7CiAgICAgICAgaGlkZUxvYWRpbmcoKTsKICAgICAgfSwKICAgIH07CiAgICByZXF1ZXN0R2V0KG9wdCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgaGFuZGxlQmFjaygpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgPT0gIkNhbmRpZGF0ZSIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL1BlcnNvbmFsQ2VudGVyL1Byb3RvY29sTGlzdCIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgPT0gIkRlbWFuZCIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL1BlcnNvbmFsQ2VudGVyL0RlbWFuZExpc3QiKTsKICAgICAgfQogICAgfSwKCiAgICBoYW5kbGVQYWdlQ2hhbmdlKGRhdGEpIHsKICAgICAgc2hvd0xvYWRpbmcoKTsKICAgICAgY29uc3Qgb3B0ID0gewogICAgICAgIHVybDogcmVxVXJsLmxpc3RCeVByb3RvY29sTWVzc2FnZSwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHByb3RvY29sSWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLAogICAgICAgICAgcGFnZTogZGF0YS5wYWdlSW5kZXgsCiAgICAgICAgICBwYWdlU2l6ZTogZGF0YS5wYWdlU2l6ZSwKICAgICAgICB9LAogICAgICAgIHJlc0Z1bmM6IChyZXMpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgIGlmIChyZXMuZGF0YS5lcnJubyA9PSAwKSB7CiAgICAgICAgICAgIHRoaXMucHJvdG9jb2xNc2dMaXN0ID0gcmVzLmRhdGEuZGF0YS5saXN0OwogICAgICAgICAgICB0aGlzLnBhZ2VMZW5ndGggPSByZXMuZGF0YS5kYXRhLnRvdGFsOwogICAgICAgICAgICB0aGlzLnBhZ2VTaXplID0gZGF0YS5wYWdlU2l6ZTsKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGRhdGEucGFnZUluZGV4OwogICAgICAgICAgfQogICAgICAgICAgaWYgKHJlcy5kYXRhLmVycm5vICE9IDApIHsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICB0aXRsZTogIumUmeivryIsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7CiAgICAgICAgICB9CiAgICAgICAgICBoaWRlTG9hZGluZygpOwogICAgICAgIH0sCiAgICAgICAgZXJyRnVuYzogKGVycikgPT4gewogICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICLplJnor68iLAogICAgICAgICAgICBtZXNzYWdlOiBlcnIsCiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVyciwgImVycjEiKTsKICAgICAgICAgIGhpZGVMb2FkaW5nKCk7CiAgICAgICAgfSwKICAgICAgfTsKICAgICAgcmVxdWVzdEdldChvcHQpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ProtocolMessage.vue"],"names":[],"mappings":";AA8BA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProtocolMessage.vue","sourceRoot":"src/views/PersonalCenter","sourcesContent":["<template>\n  <div class=\"protocol_msg\">\n    <div @click=\"handleBack\">\n      <i class=\"el-icon-arrow-left\"></i\n      ><span v-if=\"this.$route.query.type == 'Demand'\"\n        >Back Employer Demand List</span\n      ><span v-else-if=\"this.$route.query.type == 'Candidate'\"\n        >Back Candidate Protocol List</span\n      >\n    </div>\n\n    <el-table :data=\"protocolMsgList\" style=\"width: 100%\">\n      <el-table-column prop=\"protocolId\" label=\"protocolId\"> </el-table-column>\n      <el-table-column prop=\"type\" label=\"type\"> </el-table-column>\n      <el-table-column prop=\"creator\" label=\"creator\" width=\"500\">\n      </el-table-column>\n      <el-table-column prop=\"content\" label=\"content\"> </el-table-column>\n    </el-table>\n\n    <Pagination\n      v-show=\"pageLength >= 0\"\n      :limit.sync=\"pageSize\"\n      :total=\"pageLength\"\n      @pagination=\"handlePageChange\"\n      :page-sizes=\"pageSizes\"\n    />\n  </div>\n</template>\n\n<script>\nimport { reqUrl } from \"@/api/apiUrl\";\nimport { requestGet } from \"@/api/request\";\nimport { showLoading, hideLoading } from \"@/util/loading\";\n\nimport Pagination from \"@/component/Pagination\";\n\nexport default {\n  components: {\n    Pagination,\n  },\n\n  data() {\n    return {\n      protocolMsgList: [],\n\n      // 分页数据\n      currentPage: 1,\n      pageLength: 0,\n      pageSize: 10, //要传过去的数据 每页多少条数据\n      pageSizes: [10, 20, 50, 100, 200],\n    };\n  },\n\n  mounted() {\n    showLoading();\n    const opt = {\n      url: reqUrl.listByProtocolMessage,\n      params: {\n        protocolId: this.$route.query.id,\n      },\n      resFunc: (res) => {\n        console.log(res.data);\n        if (res.data.errno == 0) {\n          this.protocolMsgList = res.data.data.list;\n          this.pageLength = res.data.data.total;\n        }\n        if (res.data.errno != 0) {\n          this.$notify.error({\n            title: \"错误\",\n            message: res.data.message,\n          });\n          hideLoading();\n        }\n        hideLoading();\n      },\n      errFunc: (err) => {\n        this.$notify.error({\n          title: \"错误\",\n          message: err,\n        });\n        console.log(err, \"err1\");\n        hideLoading();\n      },\n    };\n    requestGet(opt);\n  },\n\n  methods: {\n    handleBack() {\n      if (this.$route.query.type == \"Candidate\") {\n        this.$router.push(\"/PersonalCenter/ProtocolList\");\n      } else if (this.$route.query.type == \"Demand\") {\n        this.$router.push(\"/PersonalCenter/DemandList\");\n      }\n    },\n\n    handlePageChange(data) {\n      showLoading();\n      const opt = {\n        url: reqUrl.listByProtocolMessage,\n        params: {\n          protocolId: this.$route.query.id,\n          page: data.pageIndex,\n          pageSize: data.pageSize,\n        },\n        resFunc: (res) => {\n          console.log(res.data);\n          if (res.data.errno == 0) {\n            this.protocolMsgList = res.data.data.list;\n            this.pageLength = res.data.data.total;\n            this.pageSize = data.pageSize;\n            this.currentPage = data.pageIndex;\n          }\n          if (res.data.errno != 0) {\n            this.$notify.error({\n              title: \"错误\",\n              message: res.data.message,\n            });\n            hideLoading();\n          }\n          hideLoading();\n        },\n        errFunc: (err) => {\n          this.$notify.error({\n            title: \"错误\",\n            message: err,\n          });\n          console.log(err, \"err1\");\n          hideLoading();\n        },\n      };\n      requestGet(opt);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ni {\n  margin-right: 10px;\n  cursor: pointer;\n}\n\n.protocol_msg {\n  width: 100%;\n\n  /deep/ .el-table {\n    box-shadow: 0 0 18px -7px #c77dff;\n    margin-top: 15px;\n    border-radius: 15px;\n  }\n}\n</style>\n"]}]}